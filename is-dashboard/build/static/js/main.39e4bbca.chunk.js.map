{"version":3,"sources":["initFirebase.js","components/Profile.js","components/Graph.js","components/MultilineGraph.js","components/Rate.js","components/Dashboard.js","components/Modal.js","index.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","apps","length","initializeApp","Profile","className","Graph","props","useState","data","setData","useEffect","listener","db","ref","type","limitToLast","on","snapshot","list","Object","keys","val","forEach","key","push","off","ResponsiveContainer","LineChart","syncId","Line","dataKey","stroke","color","CartesianGrid","XAxis","YAxis","domain","lims","min","max","Tooltip","style","slice","toUpperCase","MultilineGraph","Rate","serverRate","setServerRate","clientRate","setClientRate","step","value","onChange","e","parseFloat","target","set","current_rate","handleChange","Dashboard","showMultiline","Modal","id","ReactDOM","render","StrictMode","database","document","getElementById"],"mappings":"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","file":"static/js/main.39e4bbca.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/database\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDG8ln3M_AiH6XRaAgT6gNeEHM-biPlO9I\",\r\n    authDomain: \"is-tp2-84cca.firebaseapp.com\",\r\n    databaseURL: \"https://is-tp2-84cca-default-rtdb.europe-west1.firebasedatabase.app\",\r\n    projectId: \"is-tp2-84cca\",\r\n    storageBucket: \"is-tp2-84cca.appspot.com\",\r\n    messagingSenderId: \"511871924939\",\r\n    appId: \"1:511871924939:web:3680e3f8a75931fa70794e\",\r\n    measurementId: \"G-9L852TTKZD\",\r\n};\r\n\r\nconst initFirebase = () => {\r\n    if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);\r\n};\r\n\r\ninitFirebase();\r\n\r\nexport { firebase };\r\n","import React from \"react\";\r\n\r\nimport \"../styles/main.css\";\r\n\r\nconst Profile = () => {\r\n    return <div className=\"profile\"></div>;\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip, Legend, ResponsiveContainer } from \"recharts\";\r\n\r\nimport \"../styles/main.css\";\r\n\r\nconst Graph = (props) => {\r\n    const [data, setData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const listener = props.db\r\n            .ref(props.type)\r\n            .limitToLast(10)\r\n            .on(\"value\", (snapshot) => {\r\n                let list = [];\r\n                Object.keys(snapshot.val()).forEach((key) => {\r\n                    list.push(snapshot.val()[key]);\r\n                });\r\n\r\n                setData(list);\r\n            });\r\n        return () => props.db.ref(props.type).off(\"value\", listener);\r\n    }, [data, props.db, props.type]);\r\n\r\n    return (\r\n        <div className=\"graph\">\r\n            <ResponsiveContainer>\r\n                <LineChart data={data} syncId=\"sync\">\r\n                    <Line type=\"monotone\" dataKey=\"data\" stroke={props.color} />\r\n                    <CartesianGrid stroke=\"#bbb\" />\r\n                    <XAxis dataKey=\"timestamp\" />\r\n                    <YAxis type=\"number\" domain={[props.lims.min, props.lims.max]} />\r\n                    <Tooltip />\r\n                </LineChart>\r\n            </ResponsiveContainer>\r\n            <span style={{ color: props.color }}>Acceleration {props.type.slice(-1).toUpperCase()}</span>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Graph;\r\n","import React from \"react\";\r\n\r\nconst MultilineGraph = ({ db }) => {\r\n    return <div></div>;\r\n};\r\n\r\nexport default MultilineGraph;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport \"../styles/main.css\";\r\n\r\nconst Rate = ({ db }) => {\r\n    // React Hooks\r\n    const [serverRate, setServerRate] = useState(1.0);\r\n    const [clientRate, setClientRate] = useState(1.0);\r\n\r\n    useEffect(() => {\r\n        const listener = db.ref(\"config/current_rate\").on(\"value\", (snapshot) => {\r\n            setServerRate(snapshot.val());\r\n        });\r\n\r\n        return () => db.ref(\"config/current_rate\").off(\"value\", listener);\r\n    }, [serverRate, db]);\r\n\r\n    const handleChange = (e) => {\r\n        setClientRate(parseFloat(e.target.value));\r\n\r\n        db.ref(\"config\").set({\r\n            current_rate: clientRate,\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"rate\">\r\n            <div className=\"rate-header\">\r\n                <span>Current Rate</span>\r\n            </div>\r\n            <div className=\"rate-value\">\r\n                <span>{serverRate}</span>\r\n            </div>\r\n            <div className=\"rate-field\">\r\n                <div className=\"rate-value-left\">0.5</div>\r\n                <input\r\n                    className=\"rate-slider\"\r\n                    type=\"range\"\r\n                    min=\"0.5\"\r\n                    max=\"10\"\r\n                    step=\"0.5\"\r\n                    value={serverRate}\r\n                    onChange={(e) => handleChange(e)}\r\n                />\r\n                <div className=\"rate-value-right\">10</div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Rate;\r\n","import React, { useState } from \"react\";\r\nimport Graph from \"./Graph\";\r\nimport MultilineGraph from \"./MultilineGraph\";\r\nimport Rate from \"./Rate\";\r\n\r\nimport \"../styles/main.css\";\r\n\r\nconst Dashboard = ({ db }) => {\r\n    const [showMultiline, setShowMultiline] = useState(false);\r\n\r\n    return (\r\n        <div className=\"dashboard\">\r\n            {showMultiline ? (\r\n                <MultilineGraph db={db} />\r\n            ) : (\r\n                <div className=\"multi-graphs\">\r\n                    <Graph db={db} type=\"accel_x\" lims={{ min: -12, max: -8 }} color=\"red\" />\r\n                    <Graph db={db} type=\"accel_y\" lims={{ min: -4, max: 4 }} color=\"orange\" />\r\n                    <Graph db={db} type=\"accel_z\" lims={{ min: -4, max: 4 }} color=\"#ffe100\" />\r\n                </div>\r\n            )}\r\n            <Rate db={db} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React from \"react\";\n\nimport Profile from \"./Profile\";\nimport Dashboard from \"./Dashboard\";\n\nimport \"../styles/main.css\";\n\nconst Modal = ({ db }) => {\n    return (\n        <div id=\"l-modal\">\n            <Profile />\n            <Dashboard db={db} />\n        </div>\n    );\n};\n\nexport default Modal;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { firebase } from \"../src/initFirebase\";\n\nimport Modal from \"./components/Modal\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <Modal db={firebase.database()} />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}