(this["webpackJsonpis-dashboard"]=this["webpackJsonpis-dashboard"]||[]).push([[0],{333:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),n=a(71),r=a.n(n),i=a(73),l=(a(188),a(191),{apiKey:"AIzaSyDG8ln3M_AiH6XRaAgT6gNeEHM-biPlO9I",authDomain:"is-tp2-84cca.firebaseapp.com",databaseURL:"https://is-tp2-84cca-default-rtdb.europe-west1.firebasedatabase.app",projectId:"is-tp2-84cca",storageBucket:"is-tp2-84cca.appspot.com",messagingSenderId:"511871924939",appId:"1:511871924939:web:3680e3f8a75931fa70794e",measurementId:"G-9L852TTKZD"});i.a.apps.length||i.a.initializeApp(l);var u=i.a.auth(),j=a(22),b=a(21),o=a(12),d=a(3),p=c.a.createContext();function O(){return Object(s.useContext)(p)}function x(e){var t=e.children,a=Object(s.useState)(),c=Object(o.a)(a,2),n=c[0],r=c[1],i=Object(s.useState)(!0),l=Object(o.a)(i,2),j=l[0],b=l[1];Object(s.useEffect)((function(){return u.onAuthStateChanged((function(e){r(e),b(!1)}))}),[]);var O={currentUser:n,signup:function(e,t){return u.createUserWithEmailAndPassword(e,t)},login:function(e,t){return u.signInWithEmailAndPassword(e,t)},logout:function(){return u.signOut()}};return Object(d.jsx)(p.Provider,{value:O,children:!j&&t})}var h=a.p+"static/media/logo.bfc73c42.png",m=a.p+"static/media/robot-arm.b8cb98f6.png";function f(){var e=O().currentUser;return Object(d.jsxs)("div",{className:"home",children:[Object(d.jsx)("div",{className:"logo-wrapper",children:Object(d.jsx)("img",{src:h})}),Object(d.jsx)("div",{className:"robot-wrapper",children:Object(d.jsx)("img",{src:m})}),Object(d.jsx)("div",{className:"title-wrapper",children:Object(d.jsx)("span",{children:"PICASSOBOT3000"})}),Object(d.jsxs)("div",{className:"auth-wrapper",children:[e?Object(d.jsx)(j.b,{className:"login-link",to:"/dashboard",children:"DASHBOARD"}):Object(d.jsx)(j.b,{className:"login-link",to:"/login",children:"LOGIN"}),Object(d.jsx)(j.b,{className:"login-link",to:"/signup",children:"SIGNUP"})]})]})}var g=a(31),v=a.n(g),N=a(59);function y(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),r=Object(o.a)(n,2),i=r[0],l=r[1],u=Object(s.useState)(""),p=Object(o.a)(u,2),x=p[0],m=p[1],f=Object(s.useState)(!1),g=Object(o.a)(f,2),y=g[0],w=g[1],k=Object(s.useState)(!1),S=Object(o.a)(k,2),C=S[0],A=S[1],I=Object(s.useState)(!1),P=Object(o.a)(I,2),z=P[0],_=P[1],Z=Object(b.f)(),E=O().signup,D=Object(s.useState)(!1),T=Object(o.a)(D,2),U=T[0],q=T[1],L=function(){var e=Object(N.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),/^(?=.{8,100}$)(([a-zA-Z0-9_.-]+(\.[a-zA-Z0-9_.-]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)){e.next=5;break}return alert("Please insert a valid email (8 to 100 alphanumeric, _, ., - or @ characters)."),e.abrupt("return");case 5:if(/^(?=.*[a-zA-Z0-9]).{8,}$/.test(i)){e.next=9;break}return alert("Please insert a valid password (8 to 50 characters)."),e.abrupt("return");case 9:if(i===x){e.next=12;break}return alert("Passwords do not match."),e.abrupt("return");case 12:return q(!0),e.prev=13,e.next=16,E(a,i);case 16:Z.push("/signup-success"),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(13),Z.push("/signup-failure");case 22:q(!1);case 23:case"end":return e.stop()}}),e,null,[[13,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("form",{onSubmit:L,className:"signup",children:[Object(d.jsxs)("div",{className:"signup-logo-wrapper",children:[Object(d.jsx)(j.b,{className:"signup-exit-link",to:"/",children:Object(d.jsx)("i",{className:"signup-arrow"})}),Object(d.jsx)("p",{className:"signup-tag",children:"Sign Up"}),Object(d.jsx)("img",{src:h})]}),Object(d.jsxs)("div",{className:"signup-inputs",children:[Object(d.jsxs)("div",{className:"signup-text",onClick:function(){return w(!0)},children:[Object(d.jsx)("input",{type:"text",name:"mail",required:!0,value:a,onChange:function(e){return c(e.target.value)}}),Object(d.jsx)("label",{className:y?"signup-label-active":"",children:"E-mail"})]}),Object(d.jsxs)("div",{className:"signup-text",onClick:function(){return A(!0)},children:[Object(d.jsx)("input",{type:"password",name:"password",required:!0,value:i,onChange:function(e){return l(e.target.value)}}),Object(d.jsx)("label",{className:C?"signup-label-active":"",children:"Password"})]}),Object(d.jsxs)("div",{className:"signup-text",onClick:function(){return _(!0)},children:[Object(d.jsx)("input",{type:"password",name:"confirm",required:!0,value:x,onChange:function(e){return m(e.target.value)}}),Object(d.jsx)("label",{className:z?"signup-label-active":"",children:"Confirm password"})]})]}),Object(d.jsx)(j.b,{to:"/login",className:"signup-login",children:Object(d.jsx)("span",{children:"Already have an account? Log in now!"})}),Object(d.jsxs)("div",{className:"signup-accept-terms",children:[Object(d.jsx)("input",{type:"checkbox",name:"terms",required:!0}),Object(d.jsx)("label",{children:"I agree to share all my personal data with this company"})]}),Object(d.jsxs)("div",{className:"signup-buttons",children:[Object(d.jsx)("input",{type:"reset",value:"Clear",onClick:function(){c(""),w(!1),l(""),A(!1),m(""),_(!1)},disabled:U}),Object(d.jsx)("input",{type:"submit",value:"Submit",disabled:U})]})]})}function w(){return Object(d.jsx)(j.b,{to:"/",className:"signup-success",children:"Task failed successfully."})}function k(){return Object(d.jsx)(j.b,{to:"/signup",className:"signup-fail",children:"Task successfully failed."})}function S(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),r=Object(o.a)(n,2),i=r[0],l=r[1],u=Object(s.useState)(!1),p=Object(o.a)(u,2),x=p[0],m=p[1],f=Object(s.useState)(!1),g=Object(o.a)(f,2),y=g[0],w=g[1],k=Object(s.useState)(!1),S=Object(o.a)(k,2),C=(S[0],S[1],O().login),A=Object(b.f)(),I=function(){var e=Object(N.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),/^(?=.{8,100}$)(([a-zA-Z0-9_.-]+(\.[a-zA-Z0-9_.-]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)){e.next=5;break}return alert("Please insert a valid email (8 to 100 alphanumeric, _, ., - or @ characters)."),e.abrupt("return");case 5:if(/^(?=.*[a-zA-Z0-9]).{8,}$/.test(i)){e.next=9;break}return alert("Please insert a valid password (8 to 50 characters)."),e.abrupt("return");case 9:return e.prev=9,e.next=12,C(a,i);case 12:A.push("/dashboard"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),A.push("/login-failure");case 18:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("form",{onSubmit:I,className:"signup",children:[Object(d.jsxs)("div",{className:"signup-logo-wrapper",children:[Object(d.jsx)(j.b,{className:"signup-exit-link",to:"/",children:Object(d.jsx)("i",{className:"signup-arrow"})}),Object(d.jsx)("p",{className:"signup-tag",children:"Login"}),Object(d.jsx)("img",{src:h})]}),Object(d.jsxs)("div",{className:"signup-inputs",children:[Object(d.jsxs)("div",{className:"signup-text",onClick:function(){return m(!0)},children:[Object(d.jsx)("input",{type:"text",name:"mail",required:!0,value:a,onChange:function(e){return c(e.target.value)}}),Object(d.jsx)("label",{className:x?"signup-label-active":"",children:"E-mail"})]}),Object(d.jsxs)("div",{className:"signup-text",onClick:function(){return w(!0)},children:[Object(d.jsx)("input",{type:"password",name:"password",required:!0,value:i,onChange:function(e){return l(e.target.value)}}),Object(d.jsx)("label",{className:y?"signup-label-active":"",children:"Password"})]})]}),Object(d.jsx)(j.b,{to:"/signup",className:"signup-login",children:Object(d.jsx)("span",{children:"Don't have an account? Sign up now!"})}),Object(d.jsxs)("div",{className:"signup-accept-terms",children:[Object(d.jsx)("input",{type:"checkbox",name:"terms",required:!0}),Object(d.jsx)("label",{children:"I agree to share all my personal data with this company"})]}),Object(d.jsxs)("div",{className:"signup-buttons",children:[Object(d.jsx)("input",{type:"reset",value:"Clear",onClick:function(){c(""),m(!1),l(""),w(!1)}}),Object(d.jsx)("input",{type:"submit",value:"Submit"})]})]})}function C(){return Object(d.jsx)(j.b,{to:"/login",className:"signup-fail",children:"Task successfully failed."})}function A(){return Object(d.jsx)(j.b,{to:"/login",className:"signup-fail",children:"You shall not pass!"})}var I=a.p+"static/media/profile.3a23334d.png";a(68);function P(){var e=O(),t=e.currentUser,a=e.logout,s=Object(b.f)(),c=function(){var e=Object(N.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a();case 3:s.push("/"),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return t?Object(d.jsxs)("div",{className:"profile",children:[Object(d.jsx)("div",{className:"profile-logo-wrapper",children:Object(d.jsx)("img",{src:h})}),Object(d.jsx)("h2",{children:"Profile"}),Object(d.jsx)("div",{className:"profile-image-wrapper",children:Object(d.jsx)("img",{src:I})}),Object(d.jsx)("p",{children:t&&t.email}),Object(d.jsx)("button",{className:"profile-logout",onClick:c,children:"Log Out"})]}):(s.push("/forbidden"),Object(d.jsx)("div",{}))}var z=a(335),_=a(336),Z=a(179),E=a(340),D=a(176),T=a(177),U=a(82),q=function(e){var t=Object(s.useState)([]),a=Object(o.a)(t,2),c=a[0],n=a[1];return Object(s.useEffect)((function(){var t=e.db.ref(e.type).limitToLast(10).on("value",(function(e){var t=[];Object.keys(e.val()).forEach((function(a){t.push(e.val()[a])})),n(t)}));return function(){return e.db.ref(e.type).off("value",t)}}),[c,e.db,e.type]),Object(d.jsxs)("div",{className:"graph",children:[Object(d.jsx)(z.a,{className:"graph-container",children:Object(d.jsxs)(_.a,{data:c,syncId:"sync",children:[Object(d.jsx)(Z.a,{type:"monotone",dataKey:"data",stroke:e.color}),Object(d.jsx)(E.a,{stroke:"#bbb"}),Object(d.jsx)(D.a,{dataKey:"timestamp"}),Object(d.jsx)(T.a,{type:"number",domain:[e.lims.min,e.lims.max]}),Object(d.jsx)(U.a,{})]})}),Object(d.jsxs)("span",{style:{color:e.color},children:["Acceleration ",e.type.slice(-1).toUpperCase()]})]})},L=function(e){var t=e.db,a=Object(s.useState)(1),c=Object(o.a)(a,2),n=c[0],r=c[1],i=Object(s.useState)(1),l=Object(o.a)(i,2),u=l[0],j=l[1];Object(s.useEffect)((function(){var e=t.ref("config/current_rate").on("value",(function(e){r(e.val())}));return function(){return t.ref("config/current_rate").off("value",e)}}),[n,t]);return Object(d.jsxs)("div",{className:"rate",children:[Object(d.jsx)("div",{className:"rate-header",children:Object(d.jsx)("span",{children:"Current Rate"})}),Object(d.jsx)("div",{className:"rate-value",children:Object(d.jsx)("span",{children:n})}),Object(d.jsxs)("div",{className:"rate-field",children:[Object(d.jsx)("div",{className:"rate-value-left",children:"0.5"}),Object(d.jsx)("input",{className:"rate-slider",type:"range",min:"0.5",max:"10",step:"0.5",value:n,onChange:function(e){return function(e){j(parseFloat(e.target.value)),t.ref("config").set({current_rate:u})}(e)}}),Object(d.jsx)("div",{className:"rate-value-right",children:"10"})]})]})},$=function(e){var t=e.db;return Object(d.jsxs)("div",{className:"dashboard",children:[Object(d.jsxs)("div",{className:"multi-graphs",children:[Object(d.jsx)(q,{db:t,type:"accel_x",lims:{min:-12,max:-8},color:"red"}),Object(d.jsx)(q,{db:t,type:"accel_y",lims:{min:-4,max:4},color:"orange"}),Object(d.jsx)(q,{db:t,type:"accel_z",lims:{min:-4,max:4},color:"#ffe100"})]}),Object(d.jsx)(L,{db:t})]})};function B(e){var t=e.db;return Object(d.jsxs)("div",{id:"l-modal-dashboard",children:[Object(d.jsx)(P,{}),Object(d.jsx)($,{db:t})]})}var G=function(e){var t=e.db,a=e.auth;return Object(d.jsx)(j.a,{children:Object(d.jsx)("div",{id:"l-modal",children:Object(d.jsx)(x,{children:Object(d.jsxs)(b.c,{children:[Object(d.jsx)(b.a,{exact:!0,path:"/",children:Object(d.jsx)(f,{})}),Object(d.jsx)(b.a,{exact:!0,path:"/signup",children:Object(d.jsx)("div",{id:"l-modal-signup",children:Object(d.jsx)(y,{auth:a})})}),Object(d.jsx)(b.a,{exact:!0,path:"/signup-success",children:Object(d.jsx)("div",{id:"l-modal-signup",children:Object(d.jsx)(w,{})})}),Object(d.jsx)(b.a,{exact:!0,path:"/signup-failure",children:Object(d.jsx)("div",{id:"l-modal-signup",children:Object(d.jsx)(k,{})})}),Object(d.jsx)(b.a,{exact:!0,path:"/login",children:Object(d.jsx)("div",{id:"l-modal-signup",children:Object(d.jsx)(S,{auth:a})})}),Object(d.jsx)(b.a,{exact:!0,path:"/login-failure",children:Object(d.jsx)("div",{id:"l-modal-signup",children:Object(d.jsx)(C,{})})}),Object(d.jsx)(b.a,{exact:!0,path:"/forbidden",children:Object(d.jsx)("div",{id:"l-modal-signup",children:Object(d.jsx)(A,{})})}),Object(d.jsx)(b.a,{exact:!0,path:"/dashboard",children:Object(d.jsx)(B,{db:t})})]})})})})};r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(G,{db:i.a.database(),auth:i.a.auth()})}),document.getElementById("root"))},68:function(e,t,a){}},[[333,1,2]]]);
//# sourceMappingURL=main.a0894cb9.chunk.js.map